import{cE as U,a0 as le,cA as fe,bm as ve,d0 as q,cC as me,c$ as pe,D as J,i as T,bv as ee,O as x,bp as ye,L as ge,dT as be,K as he,bn as _,b8 as Q,b9 as X,d as W,f as R,I as h,H as Ce,a3 as we,a4 as Ee,G as oe,o as N,b as K,e as V,V as w,j as t,t as Te,w as E,c as G,U as ke,M as Se,l as Z,X as ne,C as ae,dU as Me,p as Be,cW as Pe,cY as te,r as A,dV as Ie,dW as De,P as Le,Z as Ae,dX as se,bw as Oe,dP as $e,J as Fe,S as Ne,T as Ye,bd as ze,dY as Re,bt as We,a6 as He}from"./BKjTAV26.js";import{P as j}from"./D1ZkmWoV.js";import{F as Ve,i as Xe,d as Ue,e as _e}from"./Lm5XNi9w.js";import{c as Ke}from"./A8IlQKut.js";import{U as ie}from"./e_7zQVqF.js";let H;const je=e=>{var s;if(!U)return 0;if(H!==void 0)return H;const o=document.createElement("div");o.className=`${e}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const r=o.offsetWidth;o.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",o.appendChild(l);const c=l.offsetWidth;return(s=o.parentNode)==null||s.removeChild(o),H=r-c,H};function go(e,s){if(!U)return;if(!s){e.scrollTop=0;return}const o=[];let r=s.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)o.push(r),r=r.offsetParent;const l=s.offsetTop+o.reduce((i,d)=>i+d.offsetTop,0),c=l+s.offsetHeight,a=e.scrollTop,u=a+e.clientHeight;l<a?e.scrollTop=l:c>u&&(e.scrollTop=c-e.clientHeight)}const qe=(e,s,o,r)=>{let l={offsetX:0,offsetY:0};const c=d=>{const p=d.clientX,b=d.clientY,{offsetX:g,offsetY:v}=l,m=e.value.getBoundingClientRect(),C=m.left,f=m.top,O=m.width,k=m.height,Y=document.documentElement.clientWidth,z=document.documentElement.clientHeight,$=-C+g,S=-f+v,M=Y-C-O+g,B=z-f-k+v,P=n=>{let D=g+n.clientX-p,F=v+n.clientY-b;r!=null&&r.value||(D=Math.min(Math.max(D,$),M),F=Math.min(Math.max(F,S),B)),l={offsetX:D,offsetY:F},e.value&&(e.value.style.transform=`translate(${q(D)}, ${q(F)})`)},I=()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",I)};document.addEventListener("mousemove",P),document.addEventListener("mouseup",I)},a=()=>{s.value&&e.value&&s.value.addEventListener("mousedown",c)},u=()=>{s.value&&e.value&&s.value.removeEventListener("mousedown",c)},i=()=>{l={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return le(()=>{fe(()=>{o.value?a():u()})}),ve(()=>{u()}),{resetPosition:i}},xe=(e,s={})=>{me(e)||pe("[useLockscreen]","You need to pass a ref param to this function");const o=s.ns||J("popup"),r=T(()=>o.bm("parent","hidden"));if(!U||ee(document.body,r.value))return;let l=0,c=!1,a="0";const u=()=>{setTimeout(()=>{typeof document>"u"||(he(document==null?void 0:document.body,r.value),c&&document&&(document.body.style.width=a))},200)};x(e,i=>{if(!i){u();return}c=!ee(document.body,r.value),c&&(a=document.body.style.width),l=je(o.namespace.value);const d=document.documentElement.clientHeight<document.body.scrollHeight,p=ye(document.body,"overflowY");l>0&&(d||p==="scroll")&&c&&(document.body.style.width=`calc(100% - ${l}px)`),ge(document.body,r.value)}),be(()=>u())},re=e=>{if(!e)return{onClick:_,onMousedown:_,onMouseup:_};let s=!1,o=!1;return{onClick:a=>{s&&o&&e(a),s=o=!1},onMousedown:a=>{s=a.target===a.currentTarget},onMouseup:a=>{o=a.target===a.currentTarget}}},bo=Symbol("ElSelectGroup"),ho=Symbol("ElSelect"),Ge=Q({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:X([String,Array,Object])},zIndex:{type:X([String,Number])}}),Ze={click:e=>e instanceof MouseEvent},Je="overlay";var Qe=W({name:"ElOverlay",props:Ge,emits:Ze,setup(e,{slots:s,emit:o}){const r=J(Je),l=i=>{o("click",i)},{onClick:c,onMousedown:a,onMouseup:u}=re(e.customMaskEvent?void 0:l);return()=>e.mask?R("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:a,onMouseup:u},[h(s,"default")],j.STYLE|j.CLASS|j.PROPS,["onClick","onMouseup","onMousedown"]):Ce("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[h(s,"default")])}});const eo=Qe,ce=Symbol("dialogInjectionKey"),de=Q({center:Boolean,alignCenter:Boolean,closeIcon:{type:we},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),oo={close:()=>!0},to=W({name:"ElDialogContent"}),so=W({...to,props:de,emits:oo,setup(e,{expose:s}){const o=e,{t:r}=Ee(),{Close:l}=Me,{dialogRef:c,headerRef:a,bodyId:u,ns:i,style:d}=oe(ce),{focusTrapRef:p}=oe(Ve),b=T(()=>[i.b(),i.is("fullscreen",o.fullscreen),i.is("draggable",o.draggable),i.is("align-center",o.alignCenter),{[i.m("center")]:o.center}]),g=Ke(p,c),v=T(()=>o.draggable),m=T(()=>o.overflow),{resetPosition:C}=qe(c,a,v,m);return s({resetPosition:C}),(f,O)=>(N(),K("div",{ref:t(g),class:w(t(b)),style:ne(t(d)),tabindex:"-1"},[V("header",{ref_key:"headerRef",ref:a,class:w([t(i).e("header"),{"show-close":f.showClose}])},[h(f.$slots,"header",{},()=>[V("span",{role:"heading","aria-level":f.ariaLevel,class:w(t(i).e("title"))},Te(f.title),11,["aria-level"])]),f.showClose?(N(),K("button",{key:0,"aria-label":t(r)("el.dialog.close"),class:w(t(i).e("headerbtn")),type:"button",onClick:k=>f.$emit("close")},[R(t(Se),{class:w(t(i).e("close"))},{default:E(()=>[(N(),G(ke(f.closeIcon||t(l))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Z("v-if",!0)],2),V("div",{id:t(u),class:w(t(i).e("body"))},[h(f.$slots,"default")],10,["id"]),f.$slots.footer?(N(),K("footer",{key:0,class:w(t(i).e("footer"))},[h(f.$slots,"footer")],2)):Z("v-if",!0)],6))}});var lo=ae(so,[["__file","dialog-content.vue"]]);const no=Q({...de,appendToBody:Boolean,appendTo:{type:X([String,Object]),default:"body"},beforeClose:{type:X(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),ao={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>Be(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},io=(e,s)=>{var o;const l=Ae().emit,{nextZIndex:c}=Pe();let a="";const u=te(),i=te(),d=A(!1),p=A(!1),b=A(!1),g=A((o=e.zIndex)!=null?o:c());let v,m;const C=Ie("namespace",De),f=T(()=>{const y={},L=`--${C.value}-dialog`;return e.fullscreen||(e.top&&(y[`${L}-margin-top`]=e.top),e.width&&(y[`${L}-width`]=q(e.width))),y}),O=T(()=>e.alignCenter?{display:"flex"}:{});function k(){l("opened")}function Y(){l("closed"),l(ie,!1),e.destroyOnClose&&(b.value=!1)}function z(){l("close")}function $(){m==null||m(),v==null||v(),e.openDelay&&e.openDelay>0?{stop:v}=se(()=>P(),e.openDelay):P()}function S(){v==null||v(),m==null||m(),e.closeDelay&&e.closeDelay>0?{stop:m}=se(()=>I(),e.closeDelay):I()}function M(){function y(L){L||(p.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(y):S()}function B(){e.closeOnClickModal&&M()}function P(){U&&(d.value=!0)}function I(){d.value=!1}function n(){l("openAutoFocus")}function D(){l("closeAutoFocus")}function F(y){var L;((L=y.detail)==null?void 0:L.focusReason)==="pointer"&&y.preventDefault()}e.lockScroll&&xe(d);function ue(){e.closeOnPressEscape&&M()}return x(()=>e.modelValue,y=>{y?(p.value=!1,$(),b.value=!0,g.value=Xe(e.zIndex)?c():g.value++,Le(()=>{l("open"),s.value&&(s.value.scrollTop=0)})):d.value&&S()}),x(()=>e.fullscreen,y=>{s.value&&(y?(a=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=a)}),le(()=>{e.modelValue&&(d.value=!0,b.value=!0,$())}),{afterEnter:k,afterLeave:Y,beforeLeave:z,handleClose:M,onModalClick:B,close:S,doClose:I,onOpenAutoFocus:n,onCloseAutoFocus:D,onCloseRequested:ue,onFocusoutPrevented:F,titleId:u,bodyId:i,closed:p,style:f,overlayDialogStyle:O,rendered:b,visible:d,zIndex:g}},ro=W({name:"ElDialog",inheritAttrs:!1}),co=W({...ro,props:no,emits:ao,setup(e,{expose:s}){const o=e,r=Oe();$e({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},T(()=>!!r.title));const l=J("dialog"),c=A(),a=A(),u=A(),{visible:i,titleId:d,bodyId:p,style:b,overlayDialogStyle:g,rendered:v,zIndex:m,afterEnter:C,afterLeave:f,beforeLeave:O,handleClose:k,onModalClick:Y,onOpenAutoFocus:z,onCloseAutoFocus:$,onCloseRequested:S,onFocusoutPrevented:M}=io(o,c);Fe(ce,{dialogRef:c,headerRef:a,bodyId:p,ns:l,rendered:v,style:b});const B=re(Y),P=T(()=>o.draggable&&!o.fullscreen);return s({visible:i,dialogContentRef:u,resetPosition:()=>{var n;(n=u.value)==null||n.resetPosition()}}),(n,D)=>(N(),G(t(_e),{to:n.appendTo,disabled:n.appendTo!=="body"?!1:!n.appendToBody},{default:E(()=>[R(We,{name:"dialog-fade",onAfterEnter:t(C),onAfterLeave:t(f),onBeforeLeave:t(O),persisted:""},{default:E(()=>[Ne(R(t(eo),{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":t(m)},{default:E(()=>[V("div",{role:"dialog","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:t(d),"aria-describedby":t(p),class:w(`${t(l).namespace.value}-overlay-dialog`),style:ne(t(g)),onClick:t(B).onClick,onMousedown:t(B).onMousedown,onMouseup:t(B).onMouseup},[R(t(Ue),{loop:"",trapped:t(i),"focus-start-el":"container",onFocusAfterTrapped:t(z),onFocusAfterReleased:t($),onFocusoutPrevented:t(M),onReleaseRequested:t(S)},{default:E(()=>[t(v)?(N(),G(lo,ze({key:0,ref_key:"dialogContentRef",ref:u},n.$attrs,{center:n.center,"align-center":n.alignCenter,"close-icon":n.closeIcon,draggable:t(P),overflow:n.overflow,fullscreen:n.fullscreen,"show-close":n.showClose,title:n.title,"aria-level":n.headerAriaLevel,onClose:t(k)}),Re({header:E(()=>[n.$slots.title?h(n.$slots,"title",{key:1}):h(n.$slots,"header",{key:0,close:t(k),titleId:t(d),titleClass:t(l).e("title")})]),default:E(()=>[h(n.$slots,"default")]),_:2},[n.$slots.footer?{name:"footer",fn:E(()=>[h(n.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Z("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Ye,t(i)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var uo=ae(co,[["__file","dialog.vue"]]);const Co=He(uo);export{Co as E,bo as a,go as b,ho as s};
