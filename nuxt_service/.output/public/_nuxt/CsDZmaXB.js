import{bC as N,bD as mt,bE as xe,bF as Mt,aJ as Nt,aV as bt,bG as la,aF as ca,bH as xt,bI as Xe,bJ as ua,bK as va,aG as ga,bL as de,bM as _e,bN as St,aO as Ne,bO as fa,av as ae,bP as Y,bQ as ha,bR as Ge,bS as pa,bT as Bt,bU as da,aT as $,bV as ya,aS as ma,an as ye,bW as nt,al as Se,bX as ba,bY as xa,bZ as Sa,b_ as La,b$ as Be,c0 as Le,aC as vt,ae as Z,aP as le,ar as X,c1 as Te,am as _a,aK as Ca,au as wa,as as zt,ao as Ta,c2 as Aa,c3 as Vt,c4 as Da,aM as Pa,c5 as Oa,c6 as Ia,c7 as it,c8 as J,c9 as Ga,ca as Ra,cb as Ea,ai as ka,cc as Ma,cd as Na,ce as Ue,cf as Wt,cg as ot,ch as Lt,ci as Ht,cj as Ba,ck as za,cl as Ut,aA as Va,cm as Wa,cn as ze,co as Ha,cp as Ua,cq as _t,cr as $a,cs as me,ct as Fa,ah as Ya,ag as $t,cu as ja,cv as Xa,cw as Ka,cx as qa,cy as Za,b0 as Ve,b8 as Ja,b9 as Qa,d as $e,D as er,o as Re,b as Ee,V as Ae,j as te,I as Ke,g as Ct,t as wt,l as Tt,e as tr,X as Ft,C as ar,a6 as rr,$ as qe,G as ke,cz as nr,i as se,Z as ir,O as be,cA as Yt,a0 as or,bm as sr,H as lr,cB as cr,cC as ur,cD as vr,P as gr,b1 as fr,b2 as hr,r as Ze,f as At,w as pr,_ as dr}from"./BKjTAV26.js";import{_ as yr}from"./BT6rXGmR.js";var fe=Math.PI*2,ee=ga.CMD,mr=["top","right","bottom","left"];function br(r,a,e,t,n){var o=e.width,i=e.height;switch(r){case"top":t.set(e.x+o/2,e.y-a),n.set(0,-1);break;case"bottom":t.set(e.x+o/2,e.y+i+a),n.set(0,1);break;case"left":t.set(e.x-a,e.y+i/2),n.set(-1,0);break;case"right":t.set(e.x+o+a,e.y+i/2),n.set(1,0);break}}function xr(r,a,e,t,n,o,i,v,u){i-=r,v-=a;var c=Math.sqrt(i*i+v*v);i/=c,v/=c;var s=i*e+r,p=v*e+a;if(Math.abs(t-n)%fe<1e-4)return u[0]=s,u[1]=p,c-e;if(o){var g=t;t=de(n),n=de(g)}else t=de(t),n=de(n);t>n&&(n+=fe);var l=Math.atan2(v,i);if(l<0&&(l+=fe),l>=t&&l<=n||l+fe>=t&&l+fe<=n)return u[0]=s,u[1]=p,c-e;var f=e*Math.cos(t)+r,h=e*Math.sin(t)+a,d=e*Math.cos(n)+r,y=e*Math.sin(n)+a,b=(f-i)*(f-i)+(h-v)*(h-v),m=(d-i)*(d-i)+(y-v)*(y-v);return b<m?(u[0]=f,u[1]=h,Math.sqrt(b)):(u[0]=d,u[1]=y,Math.sqrt(m))}function We(r,a,e,t,n,o,i,v){var u=n-r,c=o-a,s=e-r,p=t-a,g=Math.sqrt(s*s+p*p);s/=g,p/=g;var l=u*s+c*p,f=l/g;v&&(f=Math.min(Math.max(f,0),1)),f*=g;var h=i[0]=r+f*s,d=i[1]=a+f*p;return Math.sqrt((h-n)*(h-n)+(d-o)*(d-o))}function jt(r,a,e,t,n,o,i){e<0&&(r=r+e,e=-e),t<0&&(a=a+t,t=-t);var v=r+e,u=a+t,c=i[0]=Math.min(Math.max(n,r),v),s=i[1]=Math.min(Math.max(o,a),u);return Math.sqrt((c-n)*(c-n)+(s-o)*(s-o))}var F=[];function Sr(r,a,e){var t=jt(a.x,a.y,a.width,a.height,r.x,r.y,F);return e.set(F[0],F[1]),t}function Lr(r,a,e){for(var t=0,n=0,o=0,i=0,v,u,c=1/0,s=a.data,p=r.x,g=r.y,l=0;l<s.length;){var f=s[l++];l===1&&(t=s[l],n=s[l+1],o=t,i=n);var h=c;switch(f){case ee.M:o=s[l++],i=s[l++],t=o,n=i;break;case ee.L:h=We(t,n,s[l],s[l+1],p,g,F,!0),t=s[l++],n=s[l++];break;case ee.C:h=va(t,n,s[l++],s[l++],s[l++],s[l++],s[l],s[l+1],p,g,F),t=s[l++],n=s[l++];break;case ee.Q:h=ua(t,n,s[l++],s[l++],s[l],s[l+1],p,g,F),t=s[l++],n=s[l++];break;case ee.A:var d=s[l++],y=s[l++],b=s[l++],m=s[l++],_=s[l++],x=s[l++];l+=1;var w=!!(1-s[l++]);v=Math.cos(_)*b+d,u=Math.sin(_)*m+y,l<=1&&(o=v,i=u);var T=(p-d)*m/b+d;h=xr(d,y,m,_,_+x,w,T,g,F),t=Math.cos(_+x)*b+d,n=Math.sin(_+x)*m+y;break;case ee.R:o=t=s[l++],i=n=s[l++];var S=s[l++],L=s[l++];h=jt(o,i,S,L,p,g,F);break;case ee.Z:h=We(t,n,o,i,p,g,F,!0),t=o,n=i;break}h<c&&(c=h,e.set(F[0],F[1]))}return c}var j=new N,A=new N,I=new N,q=new N,K=new N;function Dt(r,a){if(r){var e=r.getTextGuideLine(),t=r.getTextContent();if(t&&e){var n=r.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],i=n.candidates||mr,v=t.getBoundingRect().clone();v.applyTransform(t.getComputedTransform());var u=1/0,c=n.anchor,s=r.getComputedTransform(),p=s&&la([],s),g=a.get("length2")||0;c&&I.copy(c);for(var l=0;l<i.length;l++){var f=i[l];br(f,0,v,j,q),N.scaleAndAdd(A,j,q,g),A.transform(p);var h=r.getBoundingRect(),d=c?c.distance(A):r instanceof ca?Lr(A,r.path,I):Sr(A,h,I);d<u&&(u=d,A.transform(s),I.transform(s),I.toArray(o[0]),A.toArray(o[1]),j.toArray(o[2]))}Xt(o,a.get("minTurnAngle")),e.setShape({points:o})}}}var He=[],H=new N;function Xt(r,a){if(a<=180&&a>0){a=a/180*Math.PI,j.fromArray(r[0]),A.fromArray(r[1]),I.fromArray(r[2]),N.sub(q,j,A),N.sub(K,I,A);var e=q.len(),t=K.len();if(!(e<.001||t<.001)){q.scale(1/e),K.scale(1/t);var n=q.dot(K),o=Math.cos(a);if(o<n){var i=We(A.x,A.y,I.x,I.y,j.x,j.y,He,!1);H.fromArray(He),H.scaleAndAdd(K,i/Math.tan(Math.PI-a));var v=I.x!==A.x?(H.x-A.x)/(I.x-A.x):(H.y-A.y)/(I.y-A.y);if(isNaN(v))return;v<0?N.copy(H,A):v>1&&N.copy(H,I),H.toArray(r[1])}}}}function _r(r,a,e){if(e<=180&&e>0){e=e/180*Math.PI,j.fromArray(r[0]),A.fromArray(r[1]),I.fromArray(r[2]),N.sub(q,A,j),N.sub(K,I,A);var t=q.len(),n=K.len();if(!(t<.001||n<.001)){q.scale(1/t),K.scale(1/n);var o=q.dot(a),i=Math.cos(e);if(o<i){var v=We(A.x,A.y,I.x,I.y,j.x,j.y,He,!1);H.fromArray(He);var u=Math.PI/2,c=Math.acos(K.dot(a)),s=u+c-e;if(s>=u)N.copy(H,I);else{H.scaleAndAdd(K,v/Math.tan(Math.PI/2-s));var p=I.x!==A.x?(H.x-A.x)/(I.x-A.x):(H.y-A.y)/(I.y-A.y);if(isNaN(p))return;p<0?N.copy(H,A):p>1&&N.copy(H,I)}H.toArray(r[1])}}}}function Je(r,a,e,t){var n=e==="normal",o=n?r:r.ensureState(e);o.ignore=a;var i=t.get("smooth");i&&i===!0&&(i=.3),o.shape=o.shape||{},i>0&&(o.shape.smooth=i);var v=t.getModel("lineStyle").getLineStyle();n?r.useStyle(v):o.style=v}function Cr(r,a){var e=a.smooth,t=a.points;if(t)if(r.moveTo(t[0][0],t[0][1]),e>0&&t.length>=3){var n=xt(t[0],t[1]),o=xt(t[1],t[2]);if(!n||!o){r.lineTo(t[1][0],t[1][1]),r.lineTo(t[2][0],t[2][1]);return}var i=Math.min(n,o)*e,v=Xe([],t[1],t[0],i/n),u=Xe([],t[1],t[2],i/o),c=Xe([],v,u,.5);r.bezierCurveTo(v[0],v[1],v[0],v[1],c[0],c[1]),r.bezierCurveTo(u[0],u[1],u[0],u[1],t[2][0],t[2][1])}else for(var s=1;s<t.length;s++)r.lineTo(t[s][0],t[s][1])}function Kt(r,a,e){var t=r.getTextGuideLine(),n=r.getTextContent();if(!n){t&&r.removeTextGuideLine();return}for(var o=a.normal,i=o.get("show"),v=n.ignore,u=0;u<mt.length;u++){var c=mt[u],s=a[c],p=c==="normal";if(s){var g=s.get("show"),l=p?v:xe(n.states[c]&&n.states[c].ignore,v);if(l||!xe(g,i)){var f=p?t:t&&t.states[c];f&&(f.ignore=!0),t&&Je(t,!0,c,s);continue}t||(t=new Mt,r.setTextGuideLine(t),!p&&(v||!i)&&Je(t,!0,"normal",a.normal),r.stateProxy&&(t.stateProxy=r.stateProxy)),Je(t,!1,c,s)}}if(t){Nt(t.style,e),t.style.fill=null;var h=o.get("showAbove"),d=r.textGuideLineConfig=r.textGuideLineConfig||{};d.showAbove=h||!1,t.buildPath=Cr}}function qt(r,a){a=a||"labelLine";for(var e={normal:r.getModel(a)},t=0;t<bt.length;t++){var n=bt[t];e[n]=r.getModel([n,a])}return e}function wr(r){if(r){for(var a=[],e=0;e<r.length;e++)a.push(r[e].slice());return a}}function Tr(r,a){var e=r.label,t=a&&a.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:wr(t&&t.shape.points)}}var Pt=["align","verticalAlign","width","height","fontSize"],W=new xa,Qe=_e(),Ar=_e();function De(r,a,e){for(var t=0;t<e.length;t++){var n=e[t];a[n]!=null&&(r[n]=a[n])}}var Pe=["x","y","rotation"],Dr=function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(a,e,t,n,o){var i=n.style,v=n.__hostTarget,u=v.textConfig||{},c=n.getComputedTransform(),s=n.getBoundingRect().plain();St.applyTransform(s,s,c),c?W.setLocalTransform(c):(W.x=W.y=W.rotation=W.originX=W.originY=0,W.scaleX=W.scaleY=1),W.rotation=de(W.rotation);var p=n.__hostTarget,g;if(p){g=p.getBoundingRect().plain();var l=p.getComputedTransform();St.applyTransform(g,g,l)}var f=g&&p.getTextGuideLine();this._labelList.push({label:n,labelLine:f,seriesModel:t,dataIndex:a,dataType:e,layoutOption:o,computedLayoutOption:null,rect:s,hostRect:g,priority:g?g.width*g.height:0,defaultAttr:{ignore:n.ignore,labelGuideIgnore:f&&f.ignore,x:W.x,y:W.y,scaleX:W.scaleX,scaleY:W.scaleY,rotation:W.rotation,style:{x:i.x,y:i.y,align:i.align,verticalAlign:i.verticalAlign,width:i.width,height:i.height,fontSize:i.fontSize},cursor:n.cursor,attachedPos:u.position,attachedRot:u.rotation}})},r.prototype.addLabelsOfSeries=function(a){var e=this;this._chartViewList.push(a);var t=a.__model,n=t.get("labelLayout");(Ne(n)||fa(n).length)&&a.group.traverse(function(o){if(o.ignore)return!0;var i=o.getTextContent(),v=ae(o);i&&!i.disableLabelLayout&&e._addLabel(v.dataIndex,v.dataType,t,i,n)})},r.prototype.updateLayoutConfig=function(a){var e=a.getWidth(),t=a.getHeight();function n(m,_){return function(){Dt(m,_)}}for(var o=0;o<this._labelList.length;o++){var i=this._labelList[o],v=i.label,u=v.__hostTarget,c=i.defaultAttr,s=void 0;Ne(i.layoutOption)?s=i.layoutOption(Tr(i,u)):s=i.layoutOption,s=s||{},i.computedLayoutOption=s;var p=Math.PI/180;u&&u.setTextConfig({local:!1,position:s.x!=null||s.y!=null?null:c.attachedPos,rotation:s.rotate!=null?s.rotate*p:c.attachedRot,offset:[s.dx||0,s.dy||0]});var g=!1;if(s.x!=null?(v.x=Y(s.x,e),v.setStyle("x",0),g=!0):(v.x=c.x,v.setStyle("x",c.style.x)),s.y!=null?(v.y=Y(s.y,t),v.setStyle("y",0),g=!0):(v.y=c.y,v.setStyle("y",c.style.y)),s.labelLinePoints){var l=u.getTextGuideLine();l&&(l.setShape({points:s.labelLinePoints}),g=!1)}var f=Qe(v);f.needsUpdateLabelLine=g,v.rotation=s.rotate!=null?s.rotate*p:c.rotation,v.scaleX=c.scaleX,v.scaleY=c.scaleY;for(var h=0;h<Pt.length;h++){var d=Pt[h];v.setStyle(d,s[d]!=null?s[d]:c.style[d])}if(s.draggable){if(v.draggable=!0,v.cursor="move",u){var y=i.seriesModel;if(i.dataIndex!=null){var b=i.seriesModel.getData(i.dataType);y=b.getItemModel(i.dataIndex)}v.on("drag",n(u,y.getModel("labelLine")))}}else v.off("drag"),v.cursor=c.cursor}},r.prototype.layout=function(a){var e=a.getWidth(),t=a.getHeight(),n=ha(this._labelList),o=Ge(n,function(u){return u.layoutOption.moveOverlap==="shiftX"}),i=Ge(n,function(u){return u.layoutOption.moveOverlap==="shiftY"});pa(o,0,e),Bt(i,0,t);var v=Ge(n,function(u){return u.layoutOption.hideOverlap});da(v)},r.prototype.processLabelsOverall=function(){var a=this;$(this._chartViewList,function(e){var t=e.__model,n=e.ignoreLabelLineUpdate,o=t.isAnimationEnabled();e.group.traverse(function(i){if(i.ignore&&!i.forceLabelAnimation)return!0;var v=!n,u=i.getTextContent();!v&&u&&(v=Qe(u).needsUpdateLabelLine),v&&a._updateLabelLine(i,t),o&&a._animateLabels(i,t)})})},r.prototype._updateLabelLine=function(a,e){var t=a.getTextContent(),n=ae(a),o=n.dataIndex;if(t&&o!=null){var i=e.getData(n.dataType),v=i.getItemModel(o),u={},c=i.getItemVisual(o,"style");if(c){var s=i.getVisual("drawType");u.stroke=c[s]}var p=v.getModel("labelLine");Kt(a,qt(v),u),Dt(a,p)}},r.prototype._animateLabels=function(a,e){var t=a.getTextContent(),n=a.getTextGuideLine();if(t&&(a.forceLabelAnimation||!t.ignore&&!t.invisible&&!a.disableLabelAnimation&&!ya(a))){var o=Qe(t),i=o.oldLayout,v=ae(a),u=v.dataIndex,c={x:t.x,y:t.y,rotation:t.rotation},s=e.getData(v.dataType);if(i){t.attr(i);var g=a.prevStates;g&&(nt(g,"select")>=0&&t.attr(o.oldLayoutSelect),nt(g,"emphasis")>=0&&t.attr(o.oldLayoutEmphasis)),Se(t,c,e,u)}else if(t.attr(c),!ma(t).valueAnimation){var p=xe(t.style.opacity,1);t.style.opacity=0,ye(t,{style:{opacity:p}},e,u)}if(o.oldLayout=c,t.states.select){var l=o.oldLayoutSelect={};De(l,c,Pe),De(l,t.states.select,Pe)}if(t.states.emphasis){var f=o.oldLayoutEmphasis={};De(f,c,Pe),De(f,t.states.emphasis,Pe)}ba(t,u,s,e,e)}if(n&&!n.ignore&&!n.invisible){var o=Ar(n),i=o.oldLayout,h={points:n.shape.points};i?(n.attr({shape:i}),Se(n,{shape:h},e)):(n.setShape(h),n.style.strokePercent=0,ye(n,{style:{strokePercent:1}},e)),o.oldLayout=h}},r}(),et=_e();function Pr(r){r.registerUpdateLifecycle("series:beforeupdate",function(a,e,t){var n=et(e).labelManager;n||(n=et(e).labelManager=new Dr),n.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(a,e,t){var n=et(e).labelManager;t.updatedSeries.forEach(function(o){n.addLabelsOfSeries(e.getViewOfSeriesModel(o))}),n.updateLayoutConfig(e),n.layout(e),n.processLabelsOverall()})}var Ot=Math.PI*2,Oe=Math.PI/180;function Zt(r,a){return Be(r.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function Jt(r,a){var e=Zt(r,a),t=r.get("center"),n=r.get("radius");Le(n)||(n=[0,n]);var o=Y(e.width,a.getWidth()),i=Y(e.height,a.getHeight()),v=Math.min(o,i),u=Y(n[0],v/2),c=Y(n[1],v/2),s,p,g=r.coordinateSystem;if(g){var l=g.dataToPoint(t);s=l[0]||0,p=l[1]||0}else Le(t)||(t=[t,t]),s=Y(t[0],o)+e.x,p=Y(t[1],i)+e.y;return{cx:s,cy:p,r0:u,r:c}}function Or(r,a,e){a.eachSeriesByType(r,function(t){var n=t.getData(),o=n.mapDimension("value"),i=Zt(t,e),v=Jt(t,e),u=v.cx,c=v.cy,s=v.r,p=v.r0,g=-t.get("startAngle")*Oe,l=t.get("endAngle"),f=t.get("padAngle")*Oe;l=l==="auto"?g-Ot:-l*Oe;var h=t.get("minAngle")*Oe,d=h+f,y=0;n.each(o,function(V){!isNaN(V)&&y++});var b=n.getSum(o),m=Math.PI/(b||y)*2,_=t.get("clockwise"),x=t.get("roseType"),w=t.get("stillShowZeroSum"),T=n.getDataExtent(o);T[0]=0;var S=_?1:-1,L=[g,l],C=S*f/2;Sa(L,!_),g=L[0],l=L[1];var k=Qt(t);k.startAngle=g,k.endAngle=l,k.clockwise=_;var G=Math.abs(l-g),P=G,R=0,D=g;if(n.setLayout({viewRect:i,r:s}),n.each(o,function(V,z){var O;if(isNaN(V)){n.setItemLayout(z,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:_,cx:u,cy:c,r0:p,r:x?NaN:s});return}x!=="area"?O=b===0&&w?m:V*m:O=G/y,O<d?(O=d,P-=d):R+=V;var B=D+S*O,M=0,E=0;f>O?(M=D+S*O/2,E=M):(M=D+C,E=B-C),n.setItemLayout(z,{angle:O,startAngle:M,endAngle:E,clockwise:_,cx:u,cy:c,r0:p,r:x?La(V,T,[p,s]):s}),D=B}),P<Ot&&y)if(P<=.001){var U=G/y;n.each(o,function(V,z){if(!isNaN(V)){var O=n.getItemLayout(z);O.angle=U;var B=0,M=0;U<f?(B=g+S*(z+1/2)*U,M=B):(B=g+S*z*U+C,M=g+S*(z+1)*U-C),O.startAngle=B,O.endAngle=M}})}else m=P/R,D=g,n.each(o,function(V,z){if(!isNaN(V)){var O=n.getItemLayout(z),B=O.angle===d?d:V*m,M=0,E=0;B<f?(M=D+S*B/2,E=M):(M=D+C,E=D+S*B-C),O.startAngle=M,O.endAngle=E,D+=S*B}})})}var Qt=_e();function Ir(r){return{seriesType:r,reset:function(a,e){var t=e.findComponents({mainType:"legend"});if(!(!t||!t.length)){var n=a.getData();n.filterSelf(function(o){for(var i=n.getName(o),v=0;v<t.length;v++)if(!t[v].isSelected(i))return!1;return!0})}}}}var Gr=Math.PI/180;function It(r,a,e,t,n,o,i,v,u,c){if(r.length<2)return;function s(h){for(var d=h.rB,y=d*d,b=0;b<h.list.length;b++){var m=h.list[b],_=Math.abs(m.label.y-e),x=t+m.len,w=x*x,T=Math.sqrt((1-Math.abs(_*_/y))*w),S=a+(T+m.len2)*n,L=S-m.label.x,C=m.targetTextWidth-L*n;ea(m,C,!0),m.label.x=S}}function p(h){for(var d={list:[],maxY:0},y={list:[],maxY:0},b=0;b<h.length;b++)if(h[b].labelAlignTo==="none"){var m=h[b],_=m.label.y>e?y:d,x=Math.abs(m.label.y-e);if(x>=_.maxY){var w=m.label.x-a-m.len2*n,T=t+m.len,S=Math.abs(w)<T?Math.sqrt(x*x/(1-w*w/T/T)):T;_.rB=S,_.maxY=x}_.list.push(m)}s(d),s(y)}for(var g=r.length,l=0;l<g;l++)if(r[l].position==="outer"&&r[l].labelAlignTo==="labelLine"){var f=r[l].label.x-c;r[l].linePoints[1][0]+=f,r[l].label.x=c}Bt(r,u,u+i)&&p(r)}function Rr(r,a,e,t,n,o,i,v){for(var u=[],c=[],s=Number.MAX_VALUE,p=-Number.MAX_VALUE,g=0;g<r.length;g++){var l=r[g].label;tt(r[g])||(l.x<a?(s=Math.min(s,l.x),u.push(r[g])):(p=Math.max(p,l.x),c.push(r[g])))}for(var g=0;g<r.length;g++){var f=r[g];if(!tt(f)&&f.linePoints){if(f.labelStyleWidth!=null)continue;var l=f.label,h=f.linePoints,d=void 0;f.labelAlignTo==="edge"?l.x<a?d=h[2][0]-f.labelDistance-i-f.edgeDistance:d=i+n-f.edgeDistance-h[2][0]-f.labelDistance:f.labelAlignTo==="labelLine"?l.x<a?d=s-i-f.bleedMargin:d=i+n-p-f.bleedMargin:l.x<a?d=l.x-i-f.bleedMargin:d=i+n-l.x-f.bleedMargin,f.targetTextWidth=d,ea(f,d)}}It(c,a,e,t,1,n,o,i,v,p),It(u,a,e,t,-1,n,o,i,v,s);for(var g=0;g<r.length;g++){var f=r[g];if(!tt(f)&&f.linePoints){var l=f.label,h=f.linePoints,y=f.labelAlignTo==="edge",b=l.style.padding,m=b?b[1]+b[3]:0,_=l.style.backgroundColor?0:m,x=f.rect.width+_,w=h[1][0]-h[2][0];y?l.x<a?h[2][0]=i+f.edgeDistance+x+f.labelDistance:h[2][0]=i+n-f.edgeDistance-x-f.labelDistance:(l.x<a?h[2][0]=l.x+f.labelDistance:h[2][0]=l.x-f.labelDistance,h[1][0]=h[2][0]+w),h[1][1]=h[2][1]=l.y}}}function ea(r,a,e){if(e===void 0&&(e=!1),r.labelStyleWidth==null){var t=r.label,n=t.style,o=r.rect,i=n.backgroundColor,v=n.padding,u=v?v[1]+v[3]:0,c=n.overflow,s=o.width+(i?0:u);if(a<s||e){var p=o.height;if(c&&c.match("break")){t.setStyle("backgroundColor",null),t.setStyle("width",a-u);var g=t.getBoundingRect();t.setStyle("width",Math.ceil(g.width)),t.setStyle("backgroundColor",i)}else{var l=a-u,f=a<s?l:e?l>r.unconstrainedWidth?null:l:null;t.setStyle("width",f)}var h=t.getBoundingRect();o.width=h.width;var d=(t.style.margin||0)+2.1;o.height=h.height+d,o.y-=(o.height-p)/2}}}function tt(r){return r.position==="center"}function Er(r){var a=r.getData(),e=[],t,n,o=!1,i=(r.get("minShowLabelAngle")||0)*Gr,v=a.getLayout("viewRect"),u=a.getLayout("r"),c=v.width,s=v.x,p=v.y,g=v.height;function l(w){w.ignore=!0}function f(w){if(!w.ignore)return!0;for(var T in w.states)if(w.states[T].ignore===!1)return!0;return!1}a.each(function(w){var T=a.getItemGraphicEl(w),S=T.shape,L=T.getTextContent(),C=T.getTextGuideLine(),k=a.getItemModel(w),G=k.getModel("label"),P=G.get("position")||k.get(["emphasis","label","position"]),R=G.get("distanceToLabelLine"),D=G.get("alignTo"),U=Y(G.get("edgeDistance"),c),V=G.get("bleedMargin"),z=k.getModel("labelLine"),O=z.get("length");O=Y(O,c);var B=z.get("length2");if(B=Y(B,c),Math.abs(S.endAngle-S.startAngle)<i){$(L.states,l),L.ignore=!0,C&&($(C.states,l),C.ignore=!0);return}if(f(L)){var M=(S.startAngle+S.endAngle)/2,E=Math.cos(M),Q=Math.sin(M),ce,Ce,gt,we;t=S.cx,n=S.cy;var re=P==="inside"||P==="inner";if(P==="center")ce=S.cx,Ce=S.cy,we="center";else{var Fe=(re?(S.r+S.r0)/2*E:S.r*E)+t,Ye=(re?(S.r+S.r0)/2*Q:S.r*Q)+n;if(ce=Fe+E*3,Ce=Ye+Q*3,!re){var ft=Fe+E*(O+u-S.r),ht=Ye+Q*(O+u-S.r),pt=ft+(E<0?-1:1)*B,dt=ht;D==="edge"?ce=E<0?s+U:s+c-U:ce=pt+(E<0?-R:R),Ce=dt,gt=[[Fe,Ye],[ft,ht],[pt,dt]]}we=re?"center":D==="edge"?E>0?"right":"left":E>0?"left":"right"}var ue=Math.PI,ne=0,ve=G.get("rotate");if(vt(ve))ne=ve*(ue/180);else if(P==="center")ne=0;else if(ve==="radial"||ve===!0){var oa=E<0?-M+ue:-M;ne=oa}else if(ve==="tangential"&&P!=="outside"&&P!=="outer"){var ie=Math.atan2(E,Q);ie<0&&(ie=ue*2+ie);var sa=Q>0;sa&&(ie=ue+ie),ne=ie-ue}if(o=!!ne,L.x=ce,L.y=Ce,L.rotation=ne,L.setStyle({verticalAlign:"middle"}),re){L.setStyle({align:we});var je=L.states.select;je&&(je.x+=L.x,je.y+=L.y)}else{var ge=L.getBoundingRect().clone();ge.applyTransform(L.getComputedTransform());var yt=(L.style.margin||0)+2.1;ge.y-=yt/2,ge.height+=yt,e.push({label:L,labelLine:C,position:P,len:O,len2:B,minTurnAngle:z.get("minTurnAngle"),maxSurfaceAngle:z.get("maxSurfaceAngle"),surfaceNormal:new N(E,Q),linePoints:gt,textAlign:we,labelDistance:R,labelAlignTo:D,edgeDistance:U,bleedMargin:V,rect:ge,unconstrainedWidth:ge.width,labelStyleWidth:L.style.width})}T.setTextConfig({inside:re})}}),!o&&r.get("avoidLabelOverlap")&&Rr(e,t,n,u,c,g,s,p);for(var h=0;h<e.length;h++){var d=e[h],y=d.label,b=d.labelLine,m=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:d.textAlign}),m&&($(y.states,l),y.ignore=!0);var _=y.states.select;_&&(_.x+=y.x,_.y+=y.y)}if(b){var x=d.linePoints;m||!x?($(b.states,l),b.ignore=!0):(Xt(x,d.minTurnAngle),_r(x,d.surfaceNormal,d.maxSurfaceAngle),b.setShape({points:x}),y.__hostTarget.textGuideLineConfig={anchor:new N(x[0][0],x[0][1])})}}}var kr=function(r){Z(a,r);function a(e,t,n){var o=r.call(this)||this;o.z2=2;var i=new le;return o.setTextContent(i),o.updateData(e,t,n,!0),o}return a.prototype.updateData=function(e,t,n,o){var i=this,v=e.hostModel,u=e.getItemModel(t),c=u.getModel("emphasis"),s=e.getItemLayout(t),p=X(Te(u.getModel("itemStyle"),s,!0),s);if(isNaN(p.startAngle)){i.setShape(p);return}if(o){i.setShape(p);var g=v.getShallow("animationType");v.ecModel.ssr?(ye(i,{scaleX:0,scaleY:0},v,{dataIndex:t,isFrom:!0}),i.originX=p.cx,i.originY=p.cy):g==="scale"?(i.shape.r=s.r0,ye(i,{shape:{r:s.r}},v,t)):n!=null?(i.setShape({startAngle:n,endAngle:n}),ye(i,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},v,t)):(i.shape.endAngle=s.startAngle,Se(i,{shape:{endAngle:s.endAngle}},v,t))}else _a(i),Se(i,{shape:p},v,t);i.useStyle(e.getItemVisual(t,"style")),Ca(i,u);var l=(s.startAngle+s.endAngle)/2,f=v.get("selectedOffset"),h=Math.cos(l)*f,d=Math.sin(l)*f,y=u.getShallow("cursor");y&&i.attr("cursor",y),this._updateLabel(v,e,t),i.ensureState("emphasis").shape=X({r:s.r+(c.get("scale")&&c.get("scaleSize")||0)},Te(c.getModel("itemStyle"),s)),X(i.ensureState("select"),{x:h,y:d,shape:Te(u.getModel(["select","itemStyle"]),s)}),X(i.ensureState("blur"),{shape:Te(u.getModel(["blur","itemStyle"]),s)});var b=i.getTextGuideLine(),m=i.getTextContent();b&&X(b.ensureState("select"),{x:h,y:d}),X(m.ensureState("select"),{x:h,y:d}),wa(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},a.prototype._updateLabel=function(e,t,n){var o=this,i=t.getItemModel(n),v=i.getModel("labelLine"),u=t.getItemVisual(n,"style"),c=u&&u.fill,s=u&&u.opacity;zt(o,Ta(i),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:c,defaultOpacity:s,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)});var p=o.getTextContent();o.setTextConfig({position:null,rotation:null}),p.attr({z2:10});var g=e.get(["label","position"]);if(g!=="outside"&&g!=="outer")o.removeTextGuideLine();else{var l=this.getTextGuideLine();l||(l=new Mt,this.setTextGuideLine(l)),Kt(this,qt(i),{stroke:c,opacity:Aa(v.get(["lineStyle","opacity"]),s,1)})}},a}(Vt),Mr=function(r){Z(a,r);function a(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return a.prototype.render=function(e,t,n,o){var i=e.getData(),v=this._data,u=this.group,c;if(!v&&i.count()>0){for(var s=i.getItemLayout(0),p=1;isNaN(s&&s.startAngle)&&p<i.count();++p)s=i.getItemLayout(p);s&&(c=s.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),i.count()===0&&e.get("showEmptyCircle")){var g=Qt(e),l=new Vt({shape:X(Jt(e,n),g)});l.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=l,u.add(l)}i.diff(v).add(function(f){var h=new kr(i,f,c);i.setItemGraphicEl(f,h),u.add(h)}).update(function(f,h){var d=v.getItemGraphicEl(h);d.updateData(i,f,c),d.off("click"),u.add(d),i.setItemGraphicEl(f,d)}).remove(function(f){var h=v.getItemGraphicEl(f);Da(h,e,f)}).execute(),Er(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=i)},a.prototype.dispose=function(){},a.prototype.containPoint=function(e,t){var n=t.getData(),o=n.getItemLayout(0);if(o){var i=e[0]-o.cx,v=e[1]-o.cy,u=Math.sqrt(i*i+v*v);return u<=o.r&&u>=o.r0}},a.type="pie",a}(Pa);function Nr(r,a,e){a=Le(a)&&{coordDimensions:a}||X({encodeDefine:r.getEncode()},a);var t=r.getSource(),n=Oa(t,a).dimensions,o=new Ia(n,r);return o.initData(t,e),o}var Br=function(){function r(a,e){this._getDataWithEncodedVisual=a,this._getRawData=e}return r.prototype.getAllNames=function(){var a=this._getRawData();return a.mapArray(a.getName)},r.prototype.containName=function(a){var e=this._getRawData();return e.indexOfName(a)>=0},r.prototype.indexOfName=function(a){var e=this._getDataWithEncodedVisual();return e.indexOfName(a)},r.prototype.getItemVisual=function(a,e){var t=this._getDataWithEncodedVisual();return t.getItemVisual(a,e)},r}(),zr=_e(),Vr=function(r){Z(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Br(it(this.getData,this),it(this.getRawData,this)),this._defaultLabelLine(e)},a.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},a.prototype.getInitialData=function(){return Nr(this,{coordDimensions:["value"],encodeDefaulter:J(Ga,this)})},a.prototype.getDataParams=function(e){var t=this.getData(),n=zr(t),o=n.seats;if(!o){var i=[];t.each(t.mapDimension("value"),function(u){i.push(u)}),o=n.seats=Ra(i,t.hostModel.get("percentPrecision"))}var v=r.prototype.getDataParams.call(this,e);return v.percent=o[e]||0,v.$vars.push("percent"),v},a.prototype._defaultLabelLine=function(e){Ea(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},a.type="series.pie",a.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},a}(ka);function Wr(r){return{seriesType:r,reset:function(a,e){var t=a.getData();t.filterSelf(function(n){var o=t.mapDimension("value"),i=t.get(o,n);return!(vt(i)&&!isNaN(i)&&i<0)})}}}function Hr(r){r.registerChartView(Mr),r.registerSeriesModel(Vr),Ma("pie",r.registerAction),r.registerLayout(J(Or,"pie")),r.registerProcessor(Ir("pie")),r.registerProcessor(Wr("pie"))}function Ur(r,a){var e=Na(a.get("padding")),t=a.getItemStyle(["color","opacity"]);return t.fill=a.get("backgroundColor"),r=new Ue({shape:{x:r.x-e[3],y:r.y-e[0],width:r.width+e[1]+e[3],height:r.height+e[0]+e[2],r:a.get("borderRadius")},style:t,silent:!0,z2:-1}),r}var $r=function(r){Z(a,r);function a(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=a.type,e.layoutMode={type:"box",ignoreSize:!0},e}return a.type="title",a.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},a}(Wt),Fr=function(r){Z(a,r);function a(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=a.type,e}return a.prototype.render=function(e,t,n){if(this.group.removeAll(),!!e.get("show")){var o=this.group,i=e.getModel("textStyle"),v=e.getModel("subtextStyle"),u=e.get("textAlign"),c=xe(e.get("textBaseline"),e.get("textVerticalAlign")),s=new le({style:ot(i,{text:e.get("text"),fill:i.getTextColor()},{disableBox:!0}),z2:10}),p=s.getBoundingRect(),g=e.get("subtext"),l=new le({style:ot(v,{text:g,fill:v.getTextColor(),y:p.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),f=e.get("link"),h=e.get("sublink"),d=e.get("triggerEvent",!0);s.silent=!f&&!d,l.silent=!h&&!d,f&&s.on("click",function(){Lt(f,"_"+e.get("target"))}),h&&l.on("click",function(){Lt(h,"_"+e.get("subtarget"))}),ae(s).eventData=ae(l).eventData=d?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(s),g&&o.add(l);var y=o.getBoundingRect(),b=e.getBoxLayoutParams();b.width=y.width,b.height=y.height;var m=Be(b,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));u||(u=e.get("left")||e.get("right"),u==="middle"&&(u="center"),u==="right"?m.x+=m.width:u==="center"&&(m.x+=m.width/2)),c||(c=e.get("top")||e.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?m.y+=m.height:c==="middle"&&(m.y+=m.height/2),c=c||"top"),o.x=m.x,o.y=m.y,o.markRedraw();var _={align:u,verticalAlign:c};s.setStyle(_),l.setStyle(_),y=o.getBoundingRect();var x=m.margin,w=e.getItemStyle(["color","opacity"]);w.fill=e.get("backgroundColor");var T=new Ue({shape:{x:y.x-x[3],y:y.y-x[0],width:y.width+x[1]+x[3],height:y.height+x[0]+x[2],r:e.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});o.add(T)}},a.type="title",a}(Ht);function Yr(r){r.registerComponentModel($r),r.registerComponentView(Fr)}var jr=function(r,a){if(a==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(a==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},st=function(r){Z(a,r);function a(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=a.type,e.layoutMode={type:"box",ignoreSize:!0},e}return a.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},a.prototype.mergeOption=function(e,t){r.prototype.mergeOption.call(this,e,t),this._updateSelector(e)},a.prototype._updateSelector=function(e){var t=e.selector,n=this.ecModel;t===!0&&(t=e.selector=["all","inverse"]),Le(t)&&$(t,function(o,i){ze(o)&&(o={type:o}),t[i]=Ba(o,jr(n,o.type))})},a.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var t=!1,n=0;n<e.length;n++){var o=e[n].get("name");if(this.isSelected(o)){this.select(o),t=!0;break}}!t&&this.select(e[0].get("name"))}},a.prototype._updateData=function(e){var t=[],n=[];e.eachRawSeries(function(u){var c=u.name;n.push(c);var s;if(u.legendVisualProvider){var p=u.legendVisualProvider,g=p.getAllNames();e.isSeriesFiltered(u)||(n=n.concat(g)),g.length?t=t.concat(g):s=!0}else s=!0;s&&za(u)&&t.push(u.name)}),this._availableNames=n;var o=this.get("data")||t,i=Ut(),v=Va(o,function(u){return(ze(u)||vt(u))&&(u={name:u}),i.get(u.name)?null:(i.set(u.name,!0),new Wa(u,this,this.ecModel))},this);this._data=Ge(v,function(u){return!!u})},a.prototype.getData=function(){return this._data},a.prototype.select=function(e){var t=this.option.selected,n=this.get("selectedMode");if(n==="single"){var o=this._data;$(o,function(i){t[i.get("name")]=!1})}t[e]=!0},a.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},a.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},a.prototype.allSelect=function(){var e=this._data,t=this.option.selected;$(e,function(n){t[n.get("name",!0)]=!0})},a.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;$(e,function(n){var o=n.get("name",!0);t.hasOwnProperty(o)||(t[o]=!0),t[o]=!t[o]})},a.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&nt(this._availableNames,e)>=0},a.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},a.type="legend.plain",a.dependencies=["series"],a.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},a}(Wt),oe=J,lt=$,Ie=$t,ta=function(r){Z(a,r);function a(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=a.type,e.newlineDisabled=!1,e}return a.prototype.init=function(){this.group.add(this._contentGroup=new Ie),this.group.add(this._selectorGroup=new Ie),this._isFirstRender=!0},a.prototype.getContentGroup=function(){return this._contentGroup},a.prototype.getSelectorGroup=function(){return this._selectorGroup},a.prototype.render=function(e,t,n){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var i=e.get("align"),v=e.get("orient");(!i||i==="auto")&&(i=e.get("left")==="right"&&v==="vertical"?"right":"left");var u=e.get("selector",!0),c=e.get("selectorPosition",!0);u&&(!c||c==="auto")&&(c=v==="horizontal"?"end":"start"),this.renderInner(i,e,t,n,u,v,c);var s=e.getBoxLayoutParams(),p={width:n.getWidth(),height:n.getHeight()},g=e.get("padding"),l=Be(s,p,g),f=this.layoutInner(e,i,l,o,u,c),h=Be(Nt({width:f.width,height:f.height},s),p,g);this.group.x=h.x-f.x,this.group.y=h.y-f.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Ur(f,e))}},a.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},a.prototype.renderInner=function(e,t,n,o,i,v,u){var c=this.getContentGroup(),s=Ut(),p=t.get("selectedMode"),g=[];n.eachRawSeries(function(l){!l.get("legendHoverLink")&&g.push(l.id)}),lt(t.getData(),function(l,f){var h=l.get("name");if(!this.newlineDisabled&&(h===""||h===`
`)){var d=new Ie;d.newline=!0,c.add(d);return}var y=n.getSeriesByName(h)[0];if(!s.get(h))if(y){var b=y.getData(),m=b.getVisual("legendLineStyle")||{},_=b.getVisual("legendIcon"),x=b.getVisual("style"),w=this._createItem(y,h,f,l,t,e,m,x,_,p,o);w.on("click",oe(Gt,h,null,o,g)).on("mouseover",oe(ct,y.name,null,o,g)).on("mouseout",oe(ut,y.name,null,o,g)),n.ssr&&w.eachChild(function(T){var S=ae(T);S.seriesIndex=y.seriesIndex,S.dataIndex=f,S.ssrType="legend"}),s.set(h,!0)}else n.eachRawSeries(function(T){if(!s.get(h)&&T.legendVisualProvider){var S=T.legendVisualProvider;if(!S.containName(h))return;var L=S.indexOfName(h),C=S.getItemVisual(L,"style"),k=S.getItemVisual(L,"legendIcon"),G=Ha(C.fill);G&&G[3]===0&&(G[3]=.2,C=X(X({},C),{fill:Ua(G,"rgba")}));var P=this._createItem(T,h,f,l,t,e,{},C,k,p,o);P.on("click",oe(Gt,null,h,o,g)).on("mouseover",oe(ct,null,h,o,g)).on("mouseout",oe(ut,null,h,o,g)),n.ssr&&P.eachChild(function(R){var D=ae(R);D.seriesIndex=T.seriesIndex,D.dataIndex=f,D.ssrType="legend"}),s.set(h,!0)}},this)},this),i&&this._createSelector(i,t,o,v,u)},a.prototype._createSelector=function(e,t,n,o,i){var v=this.getSelectorGroup();lt(e,function(c){var s=c.type,p=new le({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:s==="all"?"legendAllSelect":"legendInverseSelect"})}});v.add(p);var g=t.getModel("selectorLabel"),l=t.getModel(["emphasis","selectorLabel"]);zt(p,{normal:g,emphasis:l},{defaultText:c.title}),_t(p)})},a.prototype._createItem=function(e,t,n,o,i,v,u,c,s,p,g){var l=e.visualDrawType,f=i.get("itemWidth"),h=i.get("itemHeight"),d=i.isSelected(t),y=o.get("symbolRotate"),b=o.get("symbolKeepAspect"),m=o.get("icon");s=m||s||"roundRect";var _=Xr(s,o,u,c,l,d,g),x=new Ie,w=o.getModel("textStyle");if(Ne(e.getLegendIcon)&&(!m||m==="inherit"))x.add(e.getLegendIcon({itemWidth:f,itemHeight:h,icon:s,iconRotate:y,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:b}));else{var T=m==="inherit"&&e.getData().getVisual("symbol")?y==="inherit"?e.getData().getVisual("symbolRotate"):y:0;x.add(Kr({itemWidth:f,itemHeight:h,icon:s,iconRotate:T,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:b}))}var S=v==="left"?f+5:-5,L=v,C=i.get("formatter"),k=t;ze(C)&&C?k=C.replace("{name}",t??""):Ne(C)&&(k=C(t));var G=d?w.getTextColor():o.get("inactiveColor");x.add(new le({style:ot(w,{text:k,x:S,y:h/2,fill:G,align:L,verticalAlign:"middle"},{inheritColor:G})}));var P=new Ue({shape:x.getBoundingRect(),style:{fill:"transparent"}}),R=o.getModel("tooltip");return R.get("show")&&$a({el:P,componentModel:i,itemName:t,itemTooltipOption:R.option}),x.add(P),x.eachChild(function(D){D.silent=!0}),P.silent=!p,this.getContentGroup().add(x),_t(x),x.__legendDataIndex=n,x},a.prototype.layoutInner=function(e,t,n,o,i,v){var u=this.getContentGroup(),c=this.getSelectorGroup();me(e.get("orient"),u,e.get("itemGap"),n.width,n.height);var s=u.getBoundingRect(),p=[-s.x,-s.y];if(c.markRedraw(),u.markRedraw(),i){me("horizontal",c,e.get("selectorItemGap",!0));var g=c.getBoundingRect(),l=[-g.x,-g.y],f=e.get("selectorButtonGap",!0),h=e.getOrient().index,d=h===0?"width":"height",y=h===0?"height":"width",b=h===0?"y":"x";v==="end"?l[h]+=s[d]+f:p[h]+=g[d]+f,l[1-h]+=s[y]/2-g[y]/2,c.x=l[0],c.y=l[1],u.x=p[0],u.y=p[1];var m={x:0,y:0};return m[d]=s[d]+f+g[d],m[y]=Math.max(s[y],g[y]),m[b]=Math.min(0,g[b]+l[1-h]),m}else return u.x=p[0],u.y=p[1],this.group.getBoundingRect()},a.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},a.type="legend.plain",a}(Ht);function Xr(r,a,e,t,n,o,i){function v(d,y){d.lineWidth==="auto"&&(d.lineWidth=y.lineWidth>0?2:0),lt(d,function(b,m){d[m]==="inherit"&&(d[m]=y[m])})}var u=a.getModel("itemStyle"),c=u.getItemStyle(),s=r.lastIndexOf("empty",0)===0?"fill":"stroke",p=u.getShallow("decal");c.decal=!p||p==="inherit"?t.decal:Fa(p,i),c.fill==="inherit"&&(c.fill=t[n]),c.stroke==="inherit"&&(c.stroke=t[s]),c.opacity==="inherit"&&(c.opacity=(n==="fill"?t:e).opacity),v(c,t);var g=a.getModel("lineStyle"),l=g.getLineStyle();if(v(l,e),c.fill==="auto"&&(c.fill=t.fill),c.stroke==="auto"&&(c.stroke=t.fill),l.stroke==="auto"&&(l.stroke=t.fill),!o){var f=a.get("inactiveBorderWidth"),h=c[s];c.lineWidth=f==="auto"?t.lineWidth>0&&h?2:0:c.lineWidth,c.fill=a.get("inactiveColor"),c.stroke=a.get("inactiveBorderColor"),l.stroke=g.get("inactiveColor"),l.lineWidth=g.get("inactiveWidth")}return{itemStyle:c,lineStyle:l}}function Kr(r){var a=r.icon||"roundRect",e=Ya(a,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return e.setStyle(r.itemStyle),e.rotation=(r.iconRotate||0)*Math.PI/180,e.setOrigin([r.itemWidth/2,r.itemHeight/2]),a.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function Gt(r,a,e,t){ut(r,a,e,t),e.dispatchAction({type:"legendToggleSelect",name:r??a}),ct(r,a,e,t)}function aa(r){for(var a=r.getZr().storage.getDisplayList(),e,t=0,n=a.length;t<n&&!(e=a[t].states.emphasis);)t++;return e&&e.hoverLayer}function ct(r,a,e,t){aa(e)||e.dispatchAction({type:"highlight",seriesName:r,name:a,excludeSeriesId:t})}function ut(r,a,e,t){aa(e)||e.dispatchAction({type:"downplay",seriesName:r,name:a,excludeSeriesId:t})}function qr(r){var a=r.findComponents({mainType:"legend"});a&&a.length&&r.filterSeries(function(e){for(var t=0;t<a.length;t++)if(!a[t].isSelected(e.name))return!1;return!0})}function he(r,a,e){var t={},n=r==="toggleSelected",o;return e.eachComponent("legend",function(i){n&&o!=null?i[o?"select":"unSelect"](a.name):r==="allSelect"||r==="inverseSelect"?i[r]():(i[r](a.name),o=i.isSelected(a.name));var v=i.getData();$(v,function(u){var c=u.get("name");if(!(c===`
`||c==="")){var s=i.isSelected(c);t.hasOwnProperty(c)?t[c]=t[c]&&s:t[c]=s}})}),r==="allSelect"||r==="inverseSelect"?{selected:t}:{name:a.name,selected:t}}function Zr(r){r.registerAction("legendToggleSelect","legendselectchanged",J(he,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",J(he,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",J(he,"inverseSelect")),r.registerAction("legendSelect","legendselected",J(he,"select")),r.registerAction("legendUnSelect","legendunselected",J(he,"unSelect"))}function ra(r){r.registerComponentModel(st),r.registerComponentView(ta),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,qr),r.registerSubTypeDefaulter("legend",function(){return"plain"}),Zr(r)}var Jr=function(r){Z(a,r);function a(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=a.type,e}return a.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},a.prototype.init=function(e,t,n){var o=ja(e);r.prototype.init.call(this,e,t,n),Rt(this,e,o)},a.prototype.mergeOption=function(e,t){r.prototype.mergeOption.call(this,e,t),Rt(this,this.option,e)},a.type="legend.scroll",a.defaultOption=Xa(st.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),a}(st);function Rt(r,a,e){var t=r.getOrient(),n=[1,1];n[t.index]=0,Ka(a,e,{type:"box",ignoreSize:!!n})}var Et=$t,at=["width","height"],rt=["x","y"],Qr=function(r){Z(a,r);function a(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=a.type,e.newlineDisabled=!0,e._currentIndex=0,e}return a.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Et),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Et)},a.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},a.prototype.renderInner=function(e,t,n,o,i,v,u){var c=this;r.prototype.renderInner.call(this,e,t,n,o,i,v,u);var s=this._controllerGroup,p=t.get("pageIconSize",!0),g=Le(p)?p:[p,p];f("pagePrev",0);var l=t.getModel("pageTextStyle");s.add(new le({name:"pageText",style:{text:"xx/xx",fill:l.getTextColor(),font:l.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1);function f(h,d){var y=h+"DataIndex",b=qa(t.get("pageIcons",!0)[t.getOrient().name][d],{onclick:it(c._pageGo,c,y,t,o)},{x:-g[0]/2,y:-g[1]/2,width:g[0],height:g[1]});b.name=h,s.add(b)}},a.prototype.layoutInner=function(e,t,n,o,i,v){var u=this.getSelectorGroup(),c=e.getOrient().index,s=at[c],p=rt[c],g=at[1-c],l=rt[1-c];i&&me("horizontal",u,e.get("selectorItemGap",!0));var f=e.get("selectorButtonGap",!0),h=u.getBoundingRect(),d=[-h.x,-h.y],y=Za(n);i&&(y[s]=n[s]-h[s]-f);var b=this._layoutContentAndController(e,o,y,c,s,g,l,p);if(i){if(v==="end")d[c]+=b[s]+f;else{var m=h[s]+f;d[c]-=m,b[p]-=m}b[s]+=h[s]+f,d[1-c]+=b[l]+b[g]/2-h[g]/2,b[g]=Math.max(b[g],h[g]),b[l]=Math.min(b[l],h[l]+d[1-c]),u.x=d[0],u.y=d[1],u.markRedraw()}return b},a.prototype._layoutContentAndController=function(e,t,n,o,i,v,u,c){var s=this.getContentGroup(),p=this._containerGroup,g=this._controllerGroup;me(e.get("orient"),s,e.get("itemGap"),o?n.width:null,o?null:n.height),me("horizontal",g,e.get("pageButtonItemGap",!0));var l=s.getBoundingRect(),f=g.getBoundingRect(),h=this._showController=l[i]>n[i],d=[-l.x,-l.y];t||(d[o]=s[c]);var y=[0,0],b=[-f.x,-f.y],m=xe(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(h){var _=e.get("pageButtonPosition",!0);_==="end"?b[o]+=n[i]-f[i]:y[o]+=f[i]+m}b[1-o]+=l[v]/2-f[v]/2,s.setPosition(d),p.setPosition(y),g.setPosition(b);var x={x:0,y:0};if(x[i]=h?n[i]:l[i],x[v]=Math.max(l[v],f[v]),x[u]=Math.min(0,f[u]+b[1-o]),p.__rectSize=n[i],h){var w={x:0,y:0};w[i]=Math.max(n[i]-f[i]-m,0),w[v]=x[v],p.setClipPath(new Ue({shape:w})),p.__rectSize=w[i]}else g.eachChild(function(S){S.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(e);return T.pageIndex!=null&&Se(s,{x:T.contentPosition[0],y:T.contentPosition[1]},h?e:null),this._updatePageInfoView(e,T),x},a.prototype._pageGo=function(e,t,n){var o=this._getPageInfo(t)[e];o!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:t.id})},a.prototype._updatePageInfoView=function(e,t){var n=this._controllerGroup;$(["pagePrev","pageNext"],function(s){var p=s+"DataIndex",g=t[p]!=null,l=n.childOfName(s);l&&(l.setStyle("fill",g?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),l.cursor=g?"pointer":"default")});var o=n.childOfName("pageText"),i=e.get("pageFormatter"),v=t.pageIndex,u=v!=null?v+1:0,c=t.pageCount;o&&i&&o.setStyle("text",ze(i)?i.replace("{current}",u==null?"":u+"").replace("{total}",c==null?"":c+""):i({current:u,total:c}))},a.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),o=this._containerGroup.__rectSize,i=e.getOrient().index,v=at[i],u=rt[i],c=this._findTargetItemIndex(t),s=n.children(),p=s[c],g=s.length,l=g?1:0,f={contentPosition:[n.x,n.y],pageCount:l,pageIndex:l-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!p)return f;var h=_(p);f.contentPosition[i]=-h.s;for(var d=c+1,y=h,b=h,m=null;d<=g;++d)m=_(s[d]),(!m&&b.e>y.s+o||m&&!x(m,y.s))&&(b.i>y.i?y=b:y=m,y&&(f.pageNextDataIndex==null&&(f.pageNextDataIndex=y.i),++f.pageCount)),b=m;for(var d=c-1,y=h,b=h,m=null;d>=-1;--d)m=_(s[d]),(!m||!x(b,m.s))&&y.i<b.i&&(b=y,f.pagePrevDataIndex==null&&(f.pagePrevDataIndex=y.i),++f.pageCount,++f.pageIndex),y=m;return f;function _(w){if(w){var T=w.getBoundingRect(),S=T[u]+w[u];return{s:S,e:S+T[v],i:w.__legendDataIndex}}}function x(w,T){return w.e>=T&&w.s<=T+o}},a.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var t,n=this.getContentGroup(),o;return n.eachChild(function(i,v){var u=i.__legendDataIndex;o==null&&u!=null&&(o=v),u===e&&(t=v)}),t??o},a.type="legend.scroll",a}(ta);function en(r){r.registerAction("legendScroll","legendscroll",function(a,e){var t=a.scrollDataIndex;t!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:a},function(n){n.setScrollDataIndex(t)})})}function tn(r){Ve(ra),r.registerComponentModel(Jr),r.registerComponentView(Qr),en(r)}function an(r){Ve(ra),Ve(tn)}const rn=Ja({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Qa([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),nn=$e({name:"ElCard"}),on=$e({...nn,props:rn,setup(r){const a=er("card");return(e,t)=>(Re(),Ee("div",{class:Ae([te(a).b(),te(a).is(`${e.shadow}-shadow`)])},[e.$slots.header||e.header?(Re(),Ee("div",{key:0,class:Ae(te(a).e("header"))},[Ke(e.$slots,"header",{},()=>[Ct(wt(e.header),1)])],2)):Tt("v-if",!0),tr("div",{class:Ae([te(a).e("body"),e.bodyClass]),style:Ft(e.bodyStyle)},[Ke(e.$slots,"default")],6),e.$slots.footer||e.footer?(Re(),Ee("div",{key:1,class:Ae(te(a).e("footer"))},[Ke(e.$slots,"footer",{},()=>[Ct(wt(e.footer),1)])],2)):Tt("v-if",!0)],2))}});var sn=ar(on,[["__file","card.vue"]]);const An=rr(sn),ln=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function cn(r){function a(t){return(...n)=>{if(!r.value)throw new Error("ECharts is not initialized yet.");return r.value[t].apply(r.value,n)}}function e(){const t=Object.create(null);return ln.forEach(n=>{t[n]=a(n)}),t}return e()}function un(r,a,e){be([e,r,a],([t,n,o],i,v)=>{let u=null;if(t&&n&&o){const{offsetWidth:c,offsetHeight:s}=t,p=o===!0?{}:o,{throttle:g=100,onResize:l}=p;let f=!1;const h=()=>{n.resize(),l==null||l()},d=g?cr(h,g):h;u=new ResizeObserver(()=>{!f&&(f=!0,t.offsetWidth===c&&t.offsetHeight===s)||d()}),u.observe(t)}v(()=>{u&&(u.disconnect(),u=null)})})}const vn={autoresize:[Boolean,Object]},gn=/^on[^a-z]/,na=r=>gn.test(r);function fn(r){const a={};for(const e in r)na(e)||(a[e]=r[e]);return a}function Me(r,a){const e=ur(r)?te(r):r;return e&&typeof e=="object"&&"value"in e?e.value||a:e||a}const hn="ecLoadingOptions";function pn(r,a,e){const t=ke(hn,{}),n=se(()=>({...Me(t,{}),...e==null?void 0:e.value}));Yt(()=>{const o=r.value;o&&(a.value?o.showLoading(n.value):o.hideLoading())})}const dn={loading:Boolean,loadingOptions:Object};let pe=null;const ia="x-vue-echarts";function yn(){if(pe!=null)return pe;if(typeof HTMLElement>"u"||typeof customElements>"u")return pe=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(ia)}catch{return pe=!1}return pe=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const mn=yn(),bn="ecTheme",xn="ecInitOptions",Sn="ecUpdateOptions",kt=/(^&?~?!?)native:/;var Ln=$e({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...vn,...dn},emits:{},inheritAttrs:!1,setup(r,{attrs:a}){const e=qe(),t=qe(),n=qe(),o=ke(bn,null),i=ke(xn,null),v=ke(Sn,null),{autoresize:u,manualUpdate:c,loading:s,loadingOptions:p}=nr(r),g=se(()=>n.value||r.option||null),l=se(()=>r.theme||Me(o,{})),f=se(()=>r.initOptions||Me(i,{})),h=se(()=>r.updateOptions||Me(v,{})),d=se(()=>fn(a)),y={},b=ir().proxy.$listeners,m={};b?Object.keys(b).forEach(L=>{kt.test(L)?y[L.replace(kt,"$1")]=b[L]:m[L]=b[L]}):Object.keys(a).filter(L=>na(L)).forEach(L=>{let C=L.charAt(2).toLowerCase()+L.slice(3);if(C.indexOf("native:")===0){const k=`on${C.charAt(7).toUpperCase()}${C.slice(8)}`;y[k]=a[L];return}C.substring(C.length-4)==="Once"&&(C=`~${C.substring(0,C.length-4)}`),m[C]=a[L]});function _(L){if(!e.value)return;const C=t.value=vr(e.value,l.value,f.value);r.group&&(C.group=r.group),Object.keys(m).forEach(P=>{let R=m[P];if(!R)return;let D=P.toLowerCase();D.charAt(0)==="~"&&(D=D.substring(1),R.__once__=!0);let U=C;if(D.indexOf("zr:")===0&&(U=C.getZr(),D=D.substring(3)),R.__once__){delete R.__once__;const V=R;R=(...z)=>{V(...z),U.off(D,R)}}U.on(D,R)});function k(){C&&!C.isDisposed()&&C.resize()}function G(){const P=L||g.value;P&&C.setOption(P,h.value)}u.value?gr(()=>{k(),G()}):G()}function x(L,C){r.manualUpdate&&(n.value=L),t.value?t.value.setOption(L,C||{}):_(L)}function w(){t.value&&(t.value.dispose(),t.value=void 0)}let T=null;be(c,L=>{typeof T=="function"&&(T(),T=null),L||(T=be(()=>r.option,(C,k)=>{C&&(t.value?t.value.setOption(C,{notMerge:C!==k,...h.value}):_())},{deep:!0}))},{immediate:!0}),be([l,f],()=>{w(),_()},{deep:!0}),Yt(()=>{r.group&&t.value&&(t.value.group=r.group)});const S=cn(t);return pn(t,s,p),un(t,u,e),or(()=>{_()}),sr(()=>{mn&&e.value?e.value.__dispose=w:w()}),{chart:t,root:e,setOption:x,nonEventAttrs:d,nativeListeners:y,...S}},render(){const r={...this.nonEventAttrs,...this.nativeListeners};return r.ref="root",r.class=r.class?["echarts"].concat(r.class):"echarts",lr(ia,r)}});const _n={class:"flex"},Cn=$e({__name:"doughnut",props:{width:{},height:{},data:{}},setup(r){Ve([fr,Hr,Yr,hr,an,Pr]);const a=r,e=Ze({tooltip:{trigger:"item"},legend:{orient:"vertical",right:"5%",top:"center",textStyle:{color:"#000000"}},series:[{name:"",type:"pie",radius:["40%","70%"],center:["25%","50%"],label:{show:!1},labelLine:{show:!1},itemStyle:{borderColor:"#ffffff",borderWidth:2},data:a.data||[]}]}),t=Ze(a.width||"550px"),n=Ze(a.height||"250px");return be(()=>a.data,o=>{e.value.series[0].data=o}),(o,i)=>{const v=yr;return Re(),Ee("div",_n,[At(v,null,{default:pr(()=>[At(te(Ln),{option:e.value,style:Ft({width:t.value,height:n.value})},null,8,["option","style"])]),_:1})])}}}),Dn=dr(Cn,[["__scopeId","data-v-0614a998"]]);export{An as E,Dn as _,an as a,Pr as b,Ln as c,Yr as i};
