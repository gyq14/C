import{E as D}from"./e_7zQVqF.js";import{E as I,a as U}from"./BkrI6Yra.js";import{E as N}from"./CSNTPWt0.js";import{d as B,r as p,u as V,i as z,o as A,b as j,f as a,j as f,s as H,w as o,E as L,g as s,t as i,h as M}from"./BKjTAV26.js";import{z as P}from"./z0oBgxIm.js";import{u as Q}from"./BW5v7ni-.js";import"./CiLdZ0ri.js";import"./Lm5XNi9w.js";import"./i6Tmy0Ys.js";import"./B_jPntpX.js";import"./DqWkRQbi.js";import"./D00d6A06.js";const oe=B({__name:"Notifications",setup(W){const m=p(P),u=Q(),c=V(),l=p(""),_=z(()=>u.notificationData.filter(e=>e.title.includes(l.value)||e.type.includes(l.value)||c.getUserById(e.senderId).includes(l.value))),b=e=>{switch(e){case"Unread":return"danger";case"Read":return"success";default:return"info"}},w=e=>{switch(e){case"Unread":return"未读";case"Read":return"已读";default:return"未知"}},g=e=>{switch(e){case"Information":return"信息";case"Reminder":return"提醒";case"Task":return"任务";case"Taskback":return"任务反馈";case"Subtask":return"子任务";case"Subtaskback":return"子任务反馈";case"Information":return"Meeting";case"Reminder":return"会议";default:return"未知"}};function x(e){return new Date(e).toLocaleString()}const h=(e,r)=>r.status===e,y=e=>{},k=e=>{u.changeNotificationStatus(e.id,"Read")},d=()=>{},v={backgroundColor:"#f0f0f0",color:"#000000",textAlign:"left",fontWeight:"bold",fontSize:"14px",padding:"10px 10px 0px 0px",borderRadius:"4px 4px 0 0",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"};return(e,r)=>{const S=D,n=I,T=N,E=M,C=U,R=L;return A(),j("div",null,[a(S,{"suffix-icon":f(H),placeholder:"搜索通知",modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=t=>l.value=t),clearable:"",onClear:d,onInput:d,style:{"margin-bottom":"20px",width:"300px"}},null,8,["suffix-icon","modelValue"]),a(R,{locale:m.value},{default:o(()=>[a(C,{data:_.value,border:"",style:{width:"100%"},"header-cell-style":v,onRowDblclick:y},{default:o(()=>[a(n,{type:"selection","min-width":"3%"}),a(n,{prop:"title",label:"通知标题","min-width":"18%"}),a(n,{prop:"type",label:"通知类型","min-width":"7%"},{default:o(t=>[s(i(g(t.row.type)),1)]),_:1}),a(n,{prop:"status",label:"通知状态 ","min-width":"10%",filters:[{text:"已读",value:"Read"},{text:"未读",value:"Unread"}],"filter-method":h,"filter-placement":"bottom-end"},{default:o(t=>[a(T,{type:b(t.row.status),"disable-transitions":""},{default:o(()=>[s(i(w(t.row.status)),1)]),_:2},1032,["type"])]),_:1}),a(n,{prop:"sender",label:"发送人","min-width":"18%"},{default:o(t=>[s(i(f(c).getUserById(t.row.senderId)),1)]),_:1}),a(n,{prop:"createdAt",label:"发送时间","min-width":"17%"},{default:o(t=>[s(i(x(t.row.createdAt)),1)]),_:1}),a(n,{prop:"operation",fixed:"right",label:"操作","min-width":"10%"},{default:o(t=>[a(E,{link:"",type:"primary",size:"small",onClick:$=>k(t.row)},{default:o(()=>r[1]||(r[1]=[s("标记为已读")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["locale"])])}}});export{oe as default};
