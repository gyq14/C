import{E as I}from"./e_7zQVqF.js";import{E as $,a as B}from"./BkrI6Yra.js";import{E as V}from"./CSNTPWt0.js";import{d as z,m as U,r as c,u as A,i as M,o as P,b as R,f as o,j as _,s as H,w as r,E as N,g as s,t as m,h as j}from"./BKjTAV26.js";import{z as F}from"./z0oBgxIm.js";import{u as Q}from"./Bx7TRS-Q.js";import"./CiLdZ0ri.js";import"./Lm5XNi9w.js";import"./i6Tmy0Ys.js";import"./B_jPntpX.js";import"./DqWkRQbi.js";import"./D00d6A06.js";const nt=z({__name:"Todos",setup(W){const b=U(),x=c(F),h=Q(),f=A(),w=(t,e)=>e.status===t,l=c(""),y=M(()=>h.todesData.filter(t=>t.title.includes(l.value)||f.getUserById(t.applicantId).includes(l.value)));c({name:"",account:"",contact:"",email:"",signature:"",department:"",role:""});const S=t=>{switch(t){case"Pending":return"danger";case"Completed":return"success";default:return"info"}},T=t=>{switch(t){case"Pending":return"待处理";case"Completed":return"已完成";default:return"未知"}},v=t=>{if(!t)return"";const e=new Date(t),i=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getDate().toString().padStart(2,"0"),u=e.getHours().toString().padStart(2,"0"),p=e.getMinutes().toString().padStart(2,"0");return`${i}-${n}-${d} ${u}:${p}`},C=t=>{t.type==="Task"&&b.push(`/admin/MessageCenter/Todos-Task/${t.id}`)},g=()=>{},E=t=>{},k={backgroundColor:"#f0f0f0",color:"#000000",textAlign:"left",fontWeight:"bold",fontSize:"14px",padding:"10px 10px 0px 0px",borderRadius:"4px 4px 0 0",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"};return(t,e)=>{const i=I,n=$,d=V,u=j,p=B,D=N;return P(),R("div",null,[o(i,{"suffix-icon":_(H),placeholder:"搜索代办",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),clearable:"",onClear:g,onInput:g,style:{"margin-bottom":"20px",width:"300px"}},null,8,["suffix-icon","modelValue"]),o(D,{locale:x.value},{default:r(()=>[o(p,{data:y.value,border:"",style:{width:"100%"},"header-cell-style":k,onRowDblclick:E},{default:r(()=>[o(n,{type:"selection","min-width":"3%"}),o(n,{prop:"title",label:"代办标题","min-width":"18%"}),o(n,{prop:"status",label:"代办状态 ","min-width":"10%",filters:[{text:"待处理",value:"待处理"},{text:"已完成",value:"已完成"}],"filter-method":w,"filter-placement":"bottom-end"},{default:r(a=>[o(d,{type:S(a.row.status),"disable-transitions":""},{default:r(()=>[s(m(T(a.row.status)),1)]),_:2},1032,["type"])]),_:1}),o(n,{prop:"applicantId",label:"申请人","min-width":"18%"},{default:r(a=>[s(m(_(f).getUserById(a.row.applicantId)),1)]),_:1}),o(n,{prop:"createdAt",label:"创建时间","min-width":"17%"},{default:r(a=>[s(m(v(a.row.createdAt)),1)]),_:1}),o(n,{prop:"operation",fixed:"right",label:"操作","min-width":"10%"},{default:r(a=>[o(u,{link:"",type:"primary",size:"small",onClick:Y=>C(a.row)},{default:r(()=>e[1]||(e[1]=[s("查看")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["locale"])])}}});export{nt as default};
