import{E as F}from"./DP4sTjb7.js";import{E as I,a as M}from"./DOj0AJDD.js";import{E as R}from"./KBZer1yN.js";import{d as A,l as H,r as i,i as P,o as V,b as Q,f as t,u as W,s as Y,w as o,E as j,g as m,t as w,c as q,k as G,e as J,h as K,m as L,n as O}from"./A2Vocqfh.js";import{E as X}from"./BzJ8IFzI.js";import{z as Z}from"./z0oBgxIm.js";import"./u5bu2pBJ.js";import"./ezOoaqoY.js";import"./JQDFjasu.js";import"./DnsuNe2f.js";import"./3_7Tw8cr.js";import"./s_UcGjT4.js";import"./Bcm3GxWR.js";import"./Dhj5io09.js";const ee={slot:"footer",class:"dialog-footer"},ge=A({__name:"Todos",setup(te){const x=H(),T=i(Z),y=(a,e)=>e.status===a,p=i(""),g=i([{id:1,title:"齿轮箱设计的跨部门协同项目分配审批",status:"待处理",applicant:"刘艳",createTime:16725312e5},{id:2,title:"齿轮箱设计的跨部门协同项目成果审批",status:"待处理",applicant:"张建",createTime:16725312e5}]),k=P(()=>g.value.filter(a=>a.title.includes(p.value)||a.applicant.includes(p.value))),f=i(!1),n=i({name:"",account:"",contact:"",email:"",signature:"",department:"",role:""}),C=a=>{switch(a){case"待处理":return"danger";case"已完成":return"success";default:return"info"}},E=a=>{switch(a){case"待处理":return"待处理";case"已完成":return"已完成";default:return"未知"}},S=a=>{if(!a)return"";const e=new Date(a),r=e.getFullYear(),u=(e.getMonth()+1).toString().padStart(2,"0"),c=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),b=e.getMinutes().toString().padStart(2,"0");return`${r}-${u}-${c} ${s}:${b}`},D=a=>{x.push(`/user/MessageCenter/Todos-Todos/${a.id}`),v(a)},v=a=>{const e=g.value.find(r=>r.id===a.id);e&&(e.status="已完成")},_=()=>{},U=a=>{},$={backgroundColor:"#f0f0f0",color:"#000000",textAlign:"left",fontWeight:"bold",fontSize:"14px",padding:"10px 10px 0px 0px",borderRadius:"4px 4px 0 0",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"};return(a,e)=>{const r=F,u=I,c=R,s=K,b=M,d=L,z=O,B=X,h=j;return V(),Q("div",null,[t(r,{"suffix-icon":W(Y),placeholder:"搜索代办",modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l),clearable:"",onClear:_,onInput:_,style:{"margin-bottom":"20px",width:"300px"}},null,8,["suffix-icon","modelValue"]),t(h,{locale:T.value},{default:o(()=>[t(b,{data:k.value,border:"",style:{width:"100%"},"header-cell-style":$,onRowDblclick:U},{default:o(()=>[t(u,{type:"selection","min-width":"3%"}),t(u,{prop:"title",label:"代办标题","min-width":"18%"}),t(u,{prop:"status",label:"代办状态 ","min-width":"10%",filters:[{text:"待处理",value:"待处理"},{text:"已完成",value:"已完成"}],"filter-method":y,"filter-placement":"bottom-end"},{default:o(l=>[t(c,{type:C(l.row.status),"disable-transitions":""},{default:o(()=>[m(w(E(l.row.status)),1)]),_:2},1032,["type"])]),_:1}),t(u,{prop:"applicant",label:"申请人","min-width":"18%"}),t(u,{prop:"createTime",label:"创建时间","min-width":"17%"},{default:o(l=>[m(w(S(l.row.createTime)),1)]),_:1}),t(u,{prop:"operation",fixed:"right",label:"操作","min-width":"10%"},{default:o(l=>[t(s,{link:"",type:"primary",size:"small",onClick:N=>D(l.row)},{default:o(()=>e[10]||(e[10]=[m("查看")])),_:2},1032,["onClick"]),l.row.status!=="已完成"?(V(),q(s,{key:0,link:"",type:"primary",size:"small",onClick:N=>v(l.row)},{default:o(()=>e[11]||(e[11]=[m(" 标记为完成 ")])),_:2},1032,["onClick"])):G("",!0)]),_:1})]),_:1},8,["data"]),t(B,{title:"用户注册信息",modelValue:f.value,"onUpdate:modelValue":e[9]||(e[9]=l=>f.value=l),width:"50%"},{default:o(()=>[t(z,{model:n.value,"label-width":"100px",style:{padding:"20px"}},{default:o(()=>[t(d,{label:"姓名"},{default:o(()=>[t(r,{modelValue:n.value.name,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value.name=l),disabled:""},null,8,["modelValue"])]),_:1}),t(d,{label:"账号"},{default:o(()=>[t(r,{modelValue:n.value.account,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value.account=l),disabled:""},null,8,["modelValue"])]),_:1}),t(d,{label:"联系方式"},{default:o(()=>[t(r,{modelValue:n.value.contact,"onUpdate:modelValue":e[3]||(e[3]=l=>n.value.contact=l),disabled:""},null,8,["modelValue"])]),_:1}),t(d,{label:"邮箱"},{default:o(()=>[t(r,{modelValue:n.value.email,"onUpdate:modelValue":e[4]||(e[4]=l=>n.value.email=l),disabled:""},null,8,["modelValue"])]),_:1}),t(d,{label:"签名"},{default:o(()=>[t(r,{modelValue:n.value.signature,"onUpdate:modelValue":e[5]||(e[5]=l=>n.value.signature=l),disabled:""},null,8,["modelValue"])]),_:1}),t(d,{label:"部门"},{default:o(()=>[t(r,{modelValue:n.value.department,"onUpdate:modelValue":e[6]||(e[6]=l=>n.value.department=l),disabled:""},null,8,["modelValue"])]),_:1}),t(d,{label:"角色"},{default:o(()=>[t(r,{modelValue:n.value.role,"onUpdate:modelValue":e[7]||(e[7]=l=>n.value.role=l),disabled:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),J("span",ee,[t(s,{onClick:e[8]||(e[8]=l=>f.value=!1)},{default:o(()=>e[12]||(e[12]=[m("关闭")])),_:1})])]),_:1},8,["modelValue"])]),_:1},8,["locale"])])}}});export{ge as default};
