import{E as D}from"./DP4sTjb7.js";import{E as $,a as z}from"./DOj0AJDD.js";import{E as N}from"./KBZer1yN.js";import{d as V,r as c,i as B,o as R,b as A,f as o,u as H,s as I,w as l,E as M,g as i,t as m,h as F}from"./A2Vocqfh.js";import{z as P}from"./z0oBgxIm.js";import"./u5bu2pBJ.js";import"./ezOoaqoY.js";import"./JQDFjasu.js";import"./DnsuNe2f.js";import"./3_7Tw8cr.js";const X=V({__name:"Notifications",setup(Q){const x=c(P),r=c(""),y=c([{title:"系统升级通知",type:"信息",status:"未读",sender:"系统管理员",sendTime:16725312e5,expiry:16751232e5},{title:"账户密码更改提醒",type:"提醒",status:"已读",sender:"安全中心",sendTime:16730224e5,expiry:16756144e5},{title:"季度报告提交通知",type:"任务",status:"未读",sender:"财务部",sendTime:1673704e6,expiry:1676296e6},{title:"项目启动会议通知",type:"会议",status:"未读",sender:"项目管理部",sendTime:16741248e5,expiry:16768168e5}]),b=B(()=>y.value.filter(t=>t.title.includes(r.value)||t.type.includes(r.value)||t.sender.includes(r.value))),g=t=>{switch(t){case"未读":return"danger";case"已读":return"success";default:return"info"}},w=t=>{switch(t){case"未读":return"未读";case"已读":return"已读";default:return"未知"}},f=t=>{if(!t)return"";const e=new Date(t),p=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),d=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),u=e.getMinutes().toString().padStart(2,"0");return`${p}-${a}-${d} ${s}:${u}`},h=(t,e)=>e.status===t,v=t=>{},T=t=>{},S=t=>{},_=()=>{},k={backgroundColor:"#f0f0f0",color:"#000000",textAlign:"left",fontWeight:"bold",fontSize:"14px",padding:"10px 10px 0px 0px",borderRadius:"4px 4px 0 0",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"};return(t,e)=>{const p=D,a=$,d=N,s=F,u=z,C=M;return R(),A("div",null,[o(p,{"suffix-icon":H(I),placeholder:"搜索通知",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=n=>r.value=n),clearable:"",onClear:_,onInput:_,style:{"margin-bottom":"20px",width:"300px"}},null,8,["suffix-icon","modelValue"]),o(C,{locale:x.value},{default:l(()=>[o(u,{data:b.value,border:"",style:{width:"100%"},"header-cell-style":k,onRowDblclick:v},{default:l(()=>[o(a,{type:"selection","min-width":"3%"}),o(a,{prop:"title",label:"通知标题","min-width":"18%"}),o(a,{prop:"type",label:"通知类型","min-width":"7%"}),o(a,{prop:"status",label:"通知状态 ","min-width":"10%",filters:[{text:"已读",value:"已读"},{text:"未读",value:"未读"}],"filter-method":h,"filter-placement":"bottom-end"},{default:l(n=>[o(d,{type:g(n.row.status),"disable-transitions":""},{default:l(()=>[i(m(w(n.row.status)),1)]),_:2},1032,["type"])]),_:1}),o(a,{prop:"sender",label:"发送人","min-width":"18%"}),o(a,{prop:"sendTime",label:"发送时间","min-width":"17%"},{default:l(n=>[i(m(f(n.row.sendTime)),1)]),_:1}),o(a,{prop:"expiry",label:"有效期","min-width":"17%"},{default:l(n=>[i(m(f(n.row.expiry)),1)]),_:1}),o(a,{prop:"operation",fixed:"right",label:"操作","min-width":"10%"},{default:l(n=>[o(s,{link:"",type:"primary",size:"small",onClick:E=>T(n.row)},{default:l(()=>e[1]||(e[1]=[i("查看")])),_:2},1032,["onClick"]),o(s,{link:"",type:"primary",size:"small",onClick:E=>S(n.row)},{default:l(()=>e[2]||(e[2]=[i("标记为已读")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["locale"])])}}});export{X as default};
